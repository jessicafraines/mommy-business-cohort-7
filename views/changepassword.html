<form name="changePasswordForm" ng-submit="changepw.changePassword()" novalidate>
  <div class="form-group" ng-class="{'has-error': changePasswordForm.$dirty && !changepw.oldPassword}">
    <label>old password</label>
    <input class="form-control" type="password" ng-model="changepw.oldPassword" required>
  </div>
  <div class="form-group" ng-class="{'has-error': changePasswordForm.$dirty && !changepw.newPassword}">
    <label>new password</label>
    <input class="form-control" type="password" ng-model="changepw.newPassword" required>
  </div>
  <div class="form-group" ng-class="{'has-error': changePasswordForm.$dirty && !changepw.newPasswordAgain || changepw.newPassword !== changepw.newPasswordAgain}">
    <label>new password again</label>
    <input class="form-control" type="password" ng-model="changepw.newPasswordAgain" required>
  </div>
  <input type="submit" class="btn btn-primary" value="change password" ng-class="{disabled: changePasswordForm.$invalid || changepw.newPassword !== changepw.newPasswordAgain}">
</form>
